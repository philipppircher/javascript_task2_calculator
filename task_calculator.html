<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>My Super-Fancy-Calculator</title>

    <style>
    button {
        border:black;
        padding: 16px 16px;
        text-align: center;
        text-decoration: none;
        display: inline-block;
        font-size: 32px;
        margin: 4px 2px;
        cursor: pointer;
        width: 5%;
        height: 5%;
      }

      .labels {
          width: 330px;
          height: 100px;
          font-size: 3em;
          text-align: right;
      }

      </style>

      <script>
          // Global variables
          var str = "0";
          var values = []
          var op = "";
          var result = 0;

        // Check type of Char
        function checkChar(value){
            if (typeof value === 'number'){
                getNumber(value);
            }

            if (typeof value === 'string'){
                getChar(value);
            }
        }

        // 
        function getNumber(num){
            console.log(num);
            refreshInputValueLabel(num);
        }

        function refreshInputValueLabel(value){ 
            if (str == "0"){
                str = value;
            } else{
                str += value.toString();
            }

            document.getElementById("inputValue").innerHTML = str;
        }

        function refreshResultLabel(){
            document.getElementById("result").innerHTML = result;
        }

        function getChar(operator){

            values.push (document.getElementById("inputValue").innerText);
            

            op = operator;

            // Show in console variables
            console.log("operator button: " + operator);
            console.log("Str: " + str);
            console.log(op);
            resetInputValueLabel();
            
            if (values.length == 2){
                executeOperation()
            }
        }

        function resetInputValueLabel(){
            str = "0";
            document.getElementById("inputValue").innerHTML = str;
        }

        function executeOperation(){

            switch (op) {

                case '+': 
                    values.push(eval(parseInt(values[0]) + parseInt(values[1])));
                    break;
                case '-': 
                    values.push(eval(parseInt(values[0]) - parseInt(values[1])));
                    break;
                case '*': 
                    values.push(eval(parseInt(values[0]) * parseInt(values[1])));
                    break;
                case '/': 
                    values.push(eval(parseInt(values[0]) / parseInt(values[1])));
                    break;
                case '%': 
                    values.push(eval(parseInt(values[0]) % parseInt(values[1])));
                    break;
                case '=': 
                    refreshResultLabel();
                    break;
            }

            result = values[2];
            // After operation remove array elements
            values = [result];
            // Todo refresh  id="calculation" label
            refreshResultLabel();
            console.log("result: " + result)
        }
      </script>
</head>
<body>
    <!--Labels-->
    <!---->
    <div class="labels">  
        <label id="calculation">0</label> 
        <br>
        <label id="result">0</label> 
        <br>
        <label id="inputValue">0</label> 
    </div>
    <br>

    <!--Buttons-->
    <!---->
    <div>
        <br>
        <br>
        <br>
        <button type="button" onclick="checkChar(7)" id="7">7</button>
        <button type="button" onclick="checkChar(8)" id="8">8</button>
        <button type="button" onclick="checkChar(9)" id="9">9</button>
        <button type="button" onclick="checkChar('+')" id="+">+</button>
        <br>
        <button type="button" onclick="checkChar(4)" id="4">4</button>
        <button type="button" onclick="checkChar(5)" id="5">5</button>
        <button type="button" onclick="checkChar(6)" id="6">6</button>
        <button type="button" onclick="checkChar('-')" id="-">-</button>
        <br>
        <button type="button" onclick="checkChar(1)" id="1">1</button>
        <button type="button" onclick="checkChar(2)" id="2">2</button>
        <button type="button" onclick="checkChar(3)" id="3">3</button>
        <button type="button" onclick="checkChar('*')" id="*">*</button>
        <br>
        <button type="button" onclick="checkChar('%')" id="%">%</button>
        <button type="button" onclick="checkChar(0)"   id="0">0</button>
        <button type="button" onclick="checkChar('=')" id="=">=</button>
        <button type="button" onclick="checkChar('/')" id="/">/</button>
        <br>
        <button type="button" onclick="checkChar('c')" id="c">c</button>
    </div>
</body>
</html>